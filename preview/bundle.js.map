{
  "version": 3,
  "sources": [
    "../../../AppData/Roaming/npm/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "preview/index.ts",
    "src/index.ts",
    "src/lib/binds/class.ts",
    "src/lib/binds/define.ts",
    "src/lib/binds/index.ts",
    "src/lib/binds/model.ts",
    "src/lib/binds/props.ts",
    "src/lib/binds/ref.ts",
    "src/lib/binds/style.ts",
    "src/lib/component.ts",
    "src/lib/element.ts",
    "src/lib/emitter.ts",
    "src/lib/parts/attr.ts",
    "src/lib/parts/bind.ts",
    "src/lib/parts/event.ts",
    "src/lib/parts/index.ts",
    "src/lib/parts/may-attr.ts",
    "src/lib/parts/part-parser.ts",
    "src/lib/parts/property.ts",
    "src/lib/parts/root-child.ts",
    "src/lib/parts/types.ts",
    "src/lib/render.ts",
    "src/lib/template.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "import {define, html, Component} from '../src'\r\n\r\ndefine('test-com', class TestCom extends Component{\r\n\r\n\tvalue = 100\r\n\tmessage = 'Hello'\r\n\tpie = false\r\n\ta = {a: [1,2,3,4,5,6,7,8,9]}\r\n\r\n\tonclick() {\r\n\t\tthis.value++\r\n\t\tthis.pie = !this.pie\r\n\t\tthis.update()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn  html`\r\n\t\t<style>\r\n\t\t  :host { display: block; }\r\n\t\t  :host([hidden]) { display: none; }\r\n\t\t</style>\r\n  \r\n\t\t<h1>Start LitElement!</h1>\r\n\t\t<p>${this.message}</p>\r\n  \r\n\t\t<input name=\"myinput\" id=\"myinput\" \r\n\t\t  type=\"checkbox\"\r\n\t\t  ?checked=\"${this.pie}\"\r\n\t\t  @change=\"${this.onclick}\">\r\n  \r\n\t\t<label for=\"myinput\">I like pie.</label>\r\n  \r\n\t\t${\r\n\t\t  this.a.a.map(i => html`<div>a${i}b</div>`)\r\n\t\t}\r\n\t\t\r\n\t\t${this.pie ? html`<lazy-element a=\"b\"></lazy-element>` : html``}\r\n\t  `\r\n\t}\r\n})",
    "export {Emitter} from './lib/emitter'\r\nexport {define} from './lib/element'\r\nexport {render} from './lib/render'\r\nexport {html, css, svg} from './lib/template'\r\nexport {getComponentAt, onComponentCreatedAt, Component} from './lib/component'\r\nexport {defineBind, Bind} from './lib/binds'\r\n\r\n\r\n// export function proxy(data: T): T & Proxy {\r\n\r\n// }\r\n\r\n\r\n// export function target(data: T): T {\r\n\r\n// }\r\n\r\n\r\n// export function update() {\r\n\r\n// }\r\n\r\n\r\n",
    "import {Bind, defineBind} from './define'\r\n\r\n\r\n/**\r\n * `:class=\"'class1 class2'\"`\r\n * `:class=\"[class1, class2]\"`\r\n * `:class=\"{class1: value1, class2: value2}\"`\r\n * `:class.class-name=\"value\"`\r\n */\r\ndefineBind('class', class ClassNameBind implements Bind {\r\n\r\n\tprivate el: HTMLElement\r\n\tprivate modifiers: string[] | null\r\n\tprivate value: unknown = null\r\n\r\n\tconstructor(el: HTMLElement, value: unknown, modifiers: string[] | null) {\r\n\t\tif (modifiers) {\r\n\t\t\tif (modifiers.length > 1) {\r\n\t\t\t\tthrow new Error(`Modifier \"${modifiers.join('.')}\" is not allowed, only one modifier can be specified for \":class\"`)\r\n\t\t\t}\r\n\r\n\t\t\tif (!/^[\\w-]+$/.test(modifiers[0])) {\r\n\t\t\t\tthrow new Error(`Modifier \"${modifiers[0]}\" is not a valid class name`)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.el = el\r\n\t\tthis.modifiers = modifiers\r\n\t\tthis.update(value)\r\n\t}\r\n\r\n\tupdate(newValue: unknown) {\r\n\t\tif (this.value) {\r\n\t\t\tthis.removeClass(this.value)\r\n\t\t}\r\n\r\n\t\tif (newValue) {\r\n\t\t\tthis.addClass(newValue)\r\n\t\t}\r\n\r\n\t\tthis.value = newValue\r\n\t}\r\n\r\n\tremoveClass(value: unknown) {\r\n\t\tlet names = this.parseClass(value)\r\n\t\tthis.el.classList.remove(...names)\r\n\t}\r\n\r\n\taddClass(value: unknown) {\r\n\t\tlet names = this.parseClass(value)\r\n\t\tthis.el.classList.add(...names)\r\n\t}\r\n\r\n\tparseClass(value: unknown): string[] {\r\n\t\tlet o: {[key: string]: boolean} = {}\r\n\r\n\t\tif (this.modifiers) {\r\n\t\t\tif (value) {\r\n\t\t\t\to[this.modifiers[0]] = true\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (Array.isArray(value)) {\r\n\t\t\tfor (let name of value) {\r\n\t\t\t\to[name] = true\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (value && typeof value === 'object') {\r\n\t\t\tfor (let key of Object.keys(value as any)) {\r\n\t\t\t\to[key] = !!(value as any)[key]\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (typeof value === 'string') {\r\n\t\t\tfor (let name of value.split(/\\s+/)) {\r\n\t\t\t\tif (name) {\r\n\t\t\t\t\to[name] = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet names: string[] = []\r\n\r\n\t\tfor (let name in o) {\r\n\t\t\tif (o[name]) {\r\n\t\t\t\tnames.push(name)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn names\r\n\t}\r\n})\r\n",
    "import {Component} from '../component'\r\n\r\n\r\ninterface BindConstructor {\r\n\tnew(el: HTMLElement, value: unknown, modifiers: string[] | null, context: Component): Bind\r\n}\r\n\r\nexport interface Bind {\r\n\tupdate(value: unknown): void\r\n}\r\n\r\n\r\nconst defineMap: Map<string, BindConstructor> = new Map()\r\n\r\n/**\r\n * Define a bind class on an element to modify attributes or properties.\r\n * @param name The bind name.\r\n * @param BindConstructor The class to handle binding and value changing.\r\n */\r\nexport function defineBind(name: string, Com: BindConstructor) {\r\n\tdefineMap.set(name, Com)\r\n}\r\n\r\nexport function getBind(name: string): BindConstructor | undefined{\r\n\treturn defineMap.get(name)\r\n}",
    "export {defineBind, getBind, Bind} from './define'\r\nimport './class'\r\nimport './style'\r\nimport './model'\r\nimport './props'\r\nimport './ref'\r\n",
    "// import {Bind, defineBind} from './index'\r\n// import {getComponentAt, onComponentCreatedAt, Component} from '../component'\r\n// import {queue} from '../queue'\r\n\r\n\r\n// /**\r\n//  * model bind should only handle fixed value.\r\n//  */\r\n// defineBind('model', class ModelBind implements Bind {\r\n\r\n// \tprivate el: HTMLElement\r\n// \tprivate modifiers: string[] | null\r\n// \tprivate context: Component\r\n// \tprivate value: unknown = null\r\n// \tprivate allowedModifiers = ['lazy', 'number']\r\n// \tprivate isComEvent: boolean\r\n// \tprivate isBooleanValue: boolean = false\r\n// \tprivate isMultiSelect: boolean = false\r\n// \tprivate property: string\r\n// \tprivate eventName: string\r\n// \tprivate locked: boolean = false\r\n\r\n// \tconstructor(el: HTMLElement, value: unknown, modifiers: string[] | null, context: Component) {\r\n// \t\tif (typeof value !== 'string') {\r\n// \t\t\tthrow new Error('The value of \":model\" must be string type')\r\n// \t\t}\r\n\r\n// \t\tif (modifiers) {\r\n// \t\t\tif (modifiers.length > 1) {\r\n// \t\t\t\tthrow new Error(`Modifier \"${modifiers.join('.')}\" is not allowed, only one modifier can be specified for \":model\"`)\r\n// \t\t\t}\r\n\r\n// \t\t\tif (!this.allowedModifiers.includes(modifiers[1])) {\r\n// \t\t\t\tthrow new Error(`Modifier \"${modifiers[1]}\" is not allowed, it must be one of ${this.allowedModifiers.map(m => `\"${m}\"`).join(', ')}`)\r\n// \t\t\t}\r\n// \t\t}\r\n\r\n// \t\tthis.el = el\r\n// \t\tthis.modifiers = modifiers\r\n// \t\tthis.context = context\r\n// \t\tthis.isComEvent = el.localName.includes('-')\r\n\r\n// \t\tif (this.isComEvent) {\r\n// \t\t\tthis.property = 'value'\r\n// \t\t\tthis.eventName = 'change'\r\n// \t\t}\r\n// \t\telse {\r\n// \t\t\tlet isFormField = ['input', 'select', 'textarea'].includes(el.localName)\r\n// \t\t\tlet isLazy = modifiers && modifiers[0] === 'lazy'\r\n\r\n// \t\t\tthis.isBooleanValue = el.localName === 'input' && ((el as HTMLInputElement).type === 'checkbox' || (el as HTMLInputElement).type === 'radio')\r\n// \t\t\tthis.isMultiSelect = el.localName === 'select' && (el as HTMLSelectElement).multiple\r\n\r\n// \t\t\tif (this.isBooleanValue) {\r\n// \t\t\t\tthis.property = 'checked'\r\n// \t\t\t\tthis.eventName = 'change'\r\n// \t\t\t}\r\n// \t\t\telse if (isFormField) {\r\n// \t\t\t\tthis.property = 'value'\r\n// \t\t\t\tthis.eventName = isLazy ? 'change' : 'input'\r\n// \t\t\t}\r\n\r\n// \t\t\t//div@contendeditable cant trigger change event but not input event\r\n// \t\t\telse {\r\n// \t\t\t\tthis.property = 'innerHTML'\r\n// \t\t\t\tthis.eventName = isLazy ? 'blur' : 'input'\r\n// \t\t\t}\r\n// \t\t}\r\n\r\n// \t\tthis.update(value)\r\n// \t}\r\n\r\n// \tupdate(modelName: string) {\r\n// \t\tif (this.isComEvent) {\r\n// \t\t\tlet com = getComponentAt(this.el)\r\n// \t\t\tif (com) {\r\n// \t\t\t\tcom.on(this.eventName, this.onComValueChange, this)\r\n// \t\t\t}\r\n// \t\t\telse {\r\n// \t\t\t\tonComponentCreatedAt(this.el, this.update.bind(this, modelName))\r\n// \t\t\t}\r\n// \t\t}\r\n// \t\telse {\r\n// \t\t\t//TO DO\r\n// \t\t\tthis.el.addEventListener(this.eventName, this.onInputOrChange.bind(this))\r\n// \t\t}\r\n// \t}\r\n\r\n// \tonComValueChange(value: unknown) {\r\n// \t\t(this.context as unknown)[this.property] = value\r\n// \t}\r\n\r\n// \tonInputOrChange (e: Event) {\r\n// \t\tlet value = (this.el as unknown)[this.property]\r\n\r\n// \t\tif (this.isBooleanValue) {\r\n// \t\t\tthis.setValue(!!value)\r\n// \t\t}\r\n// \t\telse {\r\n// \t\t\tthis.setInputValue(value)\r\n// \t\t}\r\n\r\n// \t\tthis.locked = true\r\n// \t\tqueue.nextTick(() => {\r\n// \t\t\tthis.locked = false\r\n\r\n// \t\t\t//write value back to input\r\n// \t\t\tif (e.type === 'change') {\r\n// \t\t\t\tthis.update(this.watcher.value)\r\n// \t\t\t}\r\n// \t\t})\r\n// \t}\r\n\r\n\r\n// \tsetBoolValue (inputValue) {\r\n// \t\tlet {vm, watcher} = this\r\n// \t\tlet value = this.watcher.value\r\n\r\n// \t\twatcher.set(!!inputValue)\r\n// \t},\r\n\r\n\r\n// \tsetInputValue (inputValue) {\r\n// \t\tlet {el, vm, watcher} = this\r\n// \t\tlet isNumber = this.mods.includes('number')\r\n\r\n// \t\tif (this.isMultiSelect) {\r\n// \t\t\tlet value = Array.from(el.options).filter(o => o.selected).map(o => o.value)\r\n\r\n// \t\t\tif (isNumber) {\r\n// \t\t\t\tvalue = value.map(Number)\r\n// \t\t\t}\r\n\r\n// \t\t\twatcher.set(value)\r\n// \t\t}\r\n// \t\telse {\r\n// \t\t\tif (isNumber) {\r\n// \t\t\t\tlet numValue = Number(inputValue)\r\n// \t\t\t\twatcher.set(numValue)\r\n// \t\t\t}\r\n// \t\t\telse {\r\n// \t\t\t\twatcher.set(inputValue)\r\n// \t\t\t}\r\n// \t\t}\r\n// \t},\r\n\r\n\r\n// \tsetValue (value) {\r\n// \t\tif (this.com) {\r\n// \t\t\tthis.updateCom(value)\r\n// \t\t}\r\n// \t\telse {\r\n// \t\t\tif (this.locked) {\r\n// \t\t\t\treturn\r\n// \t\t\t}\r\n\r\n// \t\t\tif (this.isBooleanValue) {\r\n// \t\t\t\tthis.updateBooleanValue(value)\r\n// \t\t\t}\r\n// \t\t\telse {\r\n// \t\t\t\tthis.updateInputValue(value)\r\n// \t\t\t}\r\n// \t\t}\r\n// \t},\r\n\r\n\r\n// \tupdateCom (value) {\r\n// \t\tlet {prop, com} = this\r\n\r\n// \t\tif (prop) {\r\n// \t\t\tcom[prop] = value\r\n// \t\t}\r\n// \t\telse if (util.isObject(value)) {\r\n// \t\t\tff.assign(com, value)\r\n// \t\t}\r\n// \t},\r\n\r\n\r\n// \tupdateBooleanValue (value) {\r\n// \t\tlet {el, prop} = this\r\n// \t\tel[prop] = !!value\r\n// \t},\r\n\r\n\r\n// \tupdateInputValue (value) {\r\n// \t\tlet {el, prop, isMultiSelect} = this\r\n\r\n// \t\tif (isMultiSelect && !Array.isArray(value)) {\r\n// \t\t\tthrow new Error('\"model\" directive of select[multiple] requires an array as value')\r\n// \t\t}\r\n\r\n// \t\tif (isMultiSelect) {\r\n// \t\t\tfor (let option of el.options) {\r\n// \t\t\t\toption.selected = value.includes(option.value)\r\n// \t\t\t}\r\n// \t\t}\r\n// \t\telse {\r\n// \t\t\tel[prop] = util.isNullOrUndefined(value) ? '' : value\r\n// \t\t}\r\n// \t},\r\n// })\r\n",
    "\"use strict\";\r//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzcmMvbGliL2JpbmRzL3Byb3BzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=",
    "\"use strict\";\r//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVmLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3JjL2xpYi9iaW5kcy9yZWYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZXNDb250ZW50IjpbIiJdfQ==",
    "import {Bind, defineBind} from './define'\r\n\r\n\r\n/**\r\n * `:style=\"'style1: value1; style2: value2'\"`\r\n * `:style=\"{style1: value1, style2: value2}\"`\r\n * `:style.style-name=\"value\"`\r\n * `:style.style-name.px=\"value\"`\r\n */\r\ndefineBind('style', class StyleBind implements Bind {\r\n\r\n\tprivate el: HTMLElement\r\n\tprivate modifiers: string[] | null\r\n\tprivate value: unknown = null\r\n\tprivate allowedModifiers = ['px', 'percent', 'url']\r\n\r\n\tconstructor(el: HTMLElement, value: unknown, modifiers: string[] | null) {\r\n\t\tif (modifiers) {\r\n\t\t\tif (modifiers.length > 2) {\r\n\t\t\t\tthrow new Error(`Modifier \"${modifiers.join('.')}\" is not allowed, at most two modifiers can be specified for \":style\"`)\r\n\t\t\t}\r\n\r\n\t\t\tif (modifiers.length === 2 && !this.allowedModifiers.includes(modifiers[1])) {\r\n\t\t\t\tthrow new Error(`Modifier \"${modifiers[1]}\" is not allowed, it must be one of ${this.allowedModifiers.map(m => `\"${m}\"`).join(', ')}`)\r\n\t\t\t}\r\n\r\n\t\t\tif (!/^[\\w-]+$/.test(modifiers[0]) || this.allowedModifiers.includes(modifiers[0])) {\r\n\t\t\t\tthrow new Error(`Modifier \"${modifiers[0]}\" is not a valid dash case style name`)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.el = el\r\n\t\tthis.modifiers = modifiers\r\n\t\tthis.update(value)\r\n\t}\r\n\r\n\tupdate(newValue: unknown) {\r\n\t\tif (this.value) {\r\n\t\t\tthis.removeStyle(this.value)\r\n\t\t}\r\n\r\n\t\tif (newValue) {\r\n\t\t\tthis.addStyle(newValue)\r\n\t\t}\r\n\r\n\t\tthis.value = newValue\r\n\t}\r\n\r\n\tremoveStyle(style: unknown) {\r\n\t\tlet o = this.parseStyle(style)\r\n\t\t\r\n\t\tfor (let name of Object.keys(o)) {\r\n\t\t\t(this.el.style as any)[name] = ''\r\n\t\t}\r\n\t}\r\n\r\n\taddStyle(style: unknown) {\r\n\t\tlet o = this.parseStyle(style)\r\n\t\tlet unit = this.modifiers ? this.modifiers[1] : ''\r\n\t\t\r\n\t\tfor (let name of Object.keys(o)) {\r\n\t\t\tlet value = o[name]\r\n\r\n\t\t\tif (value === null || value === undefined) {\r\n\t\t\t\tvalue = ''\r\n\t\t\t}\r\n\t\t\telse if (unit === 'px') {\r\n\t\t\t\tvalue = value + 'px'\r\n\t\t\t}\r\n\t\t\telse if (unit === 'percent') {\r\n\t\t\t\tvalue = value + '%'\r\n\t\t\t}\r\n\t\t\telse if (unit === 'url') {\r\n\t\t\t\tvalue = 'url(\"' + value + '\")'\r\n\t\t\t}\r\n\r\n\t\t\t(this.el.style as any)[name] = value\r\n\t\t}\r\n\t}\r\n\r\n\tparseStyle(style: unknown): {[key: string]: unknown} {\r\n\t\tlet obj: {[key: string]: unknown} = {}\r\n\r\n\t\tif (this.modifiers) {\r\n\t\t\tif (style && style !== null && style !== undefined) {\r\n\t\t\t\tobj[this.modifiers[0]] = style\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (Array.isArray(style)) {\r\n\t\t\tfor (let item of style.join(';').split(/\\s*;\\s*/)) {\r\n\t\t\t\tlet [name, value] = item.split(/\\s*:\\s*/)\r\n\t\t\t\tif (name && value) {\r\n\t\t\t\t\tobj[name] = value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (style && typeof style === 'object') {\r\n\t\t\tobj = style as any\r\n\t\t}\r\n\t\telse if (style && typeof style === 'string') {\r\n\t\t\tfor (let item of style.split(/\\s*;\\s*/)) {\r\n\t\t\t\tlet [name, value] = item.split(/\\s*:\\s*/)\r\n\t\t\t\tif (name && value) {\r\n\t\t\t\t\tobj[name] = value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj\r\n\t}\r\n})\r\n",
    "import {Emitter} from './emitter'\r\nimport {Template} from './template'\r\nimport {RootPart} from \"./parts\"\r\n\r\n\r\nexport type ComponentConstructor = {\r\n    new(el: HTMLElement, options?: object): Component\r\n}\r\n\r\n\r\nconst componentMap: Map<string, ComponentConstructor> = new Map()\r\n\r\nexport function defineComponent(name: string, Com: ComponentConstructor) {\r\n\tcomponentMap.set(name, Com)\r\n}\r\n\r\nexport function getComponentConstructor(name: string): ComponentConstructor | undefined {\r\n\treturn componentMap.get(name)\r\n}\r\n\r\n\r\nconst elementComponentMap: WeakMap<HTMLElement, Component> = new WeakMap()\r\n\r\n/**\r\n * Get component instance from root element.\r\n * @param el The element.\r\n */\r\nexport function getComponentAt(el: HTMLElement): Component | undefined {\r\n\treturn elementComponentMap.get(el)\r\n}\r\n\r\n\r\nconst componentCreatedMap: WeakMap<HTMLElement, ((com: Component) => void)[]> = new WeakMap()\r\n\r\nexport function onComponentCreatedAt(el: HTMLElement, callback: (com: Component) => void) {\r\n\tlet callbacks = componentCreatedMap.get(el)\r\n\tif (!callbacks) {\r\n\t\tcomponentCreatedMap.set(el, (callbacks = []))\r\n\t}\r\n\tcallbacks.push(callback)\r\n}\r\n\r\nfunction emitComponentCreated(el: HTMLElement, com: Component) {\r\n\tlet callbacks = componentCreatedMap.get(el)\r\n\tif (callbacks) {\r\n\t\tfor (let callback of callbacks) {\r\n\t\t\tcallback(com)\r\n\t\t}\r\n\t\tcomponentCreatedMap.delete(el)\r\n\t}\r\n}\r\n\r\n\r\nexport abstract class Component<Events = any> extends Emitter<Events> {\r\n\r\n\tel: HTMLElement\r\n\tprivate _node: RootPart | null = null\r\n\r\n\tconstructor(el: HTMLElement, options?: object) {\r\n\t\tsuper()\r\n\r\n\t\tthis.el = el\r\n\t\tObject.assign(this, options)\r\n\t\t\r\n\t\telementComponentMap.set(el, this)\r\n\t\temitComponentCreated(el, this)\r\n\t\t\r\n\t\tPromise.resolve().then(() => {\r\n\t\t\tthis.update()\r\n\t\t})\r\n\t}\r\n\r\n\tabstract render(): string | Template\r\n\r\n\tprotected update() {\r\n\t\tlet value = this.render()\r\n\r\n\t\tif (this._node) {\r\n\t\t\tthis._node.update(value)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._node = new RootPart(this.el, value, this)\r\n\t\t}\r\n\t}\r\n\r\n\tonConnected() {}\r\n\r\n\tonDisconnected() {}\r\n}",
    "import {ComponentConstructor, defineComponent, getComponentAt} from './component'\r\n\r\n\r\n/**\r\n * Defines a component with specified name.\r\n * Defines a custom element, but just used to start the defined component\r\n * @param name The component name.\r\n * @param Component The Component class definition.\r\n */\r\nexport function define(name: string, Com: ComponentConstructor) {\r\n\tif (!name.includes('-')) {\r\n\t\tconsole.warn('Custom element should contains \"-\"')\r\n\t}\r\n\r\n\tcustomElements.define(name, class CustomElement extends HTMLElement {\r\n\t\tconnectedCallback() {\r\n\t\t\tlet com = getComponentAt(this)\r\n\t\t\tif (!com) {\r\n\t\t\t\tcom = new Com(this)\r\n\t\t\t}\r\n\t\t\tcom.onConnected()\r\n\t\t}\r\n\r\n\t\tdisconnectedCallback() {\r\n\t\t\tlet com = getComponentAt(this)\r\n\t\t\tif (com) {\r\n\t\t\t\tcom.onDisconnected()\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tdefineComponent(name, Com)\r\n}\r\n",
    "type EventHandler = (...args: any[]) => void\r\n\r\ninterface EventListener {\r\n\thandler: EventHandler\r\n\tscope?: object,\r\n\tonce: boolean\r\n}\r\n\r\n\r\n/** An event emitter to listen and emit events. */\r\nexport class Emitter<Events = any> {\r\n\r\n\tprivate _events: {[key: string]: EventListener[]} = {}\r\n\r\n\t/**\r\n\t * Register listener for specified event name.\r\n\t * @param name The event name.\r\n\t * @param handler The event handler.\r\n\t * @param scope The scope will be binded to handler.\r\n\t */\r\n\ton<K extends keyof Events & string>(name: K, handler: Events[K] & EventHandler, scope?: object) {\r\n\t\tlet events = this._events[name] || (this._events[name] = [])\r\n\t\t\r\n\t\tevents.push({\r\n\t\t\thandler,\r\n\t\t\tscope,\r\n\t\t\tonce: false,\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * Register listener for specified event name for only once.\r\n\t * @param name The event name.\r\n\t * @param handler The event handler.\r\n\t * @param scope The scope will be binded to handler.\r\n\t */\r\n\tonce<K extends keyof Events & string>(name: K, handler: Events[K] & EventHandler, scope?: object) {\r\n\t\tlet events = this._events[name] || (this._events[name] = [])\r\n\r\n\t\tevents.push({\r\n\t\t\thandler,\r\n\t\t\tscope,\r\n\t\t\tonce: true\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * Stop listening specified event.\r\n\t * @param name The event name.\r\n\t * @param handler The event handler, only matched listener will be removed.\r\n\t * @param scope The scope binded to handler. If provided, remove listener only when scope match.\r\n\t */\r\n\toff<K extends keyof Events & string>(name: K, handler: Events[K] & EventHandler, scope?: object) {\r\n\t\tlet events = this._events[name]\r\n\t\tif (events) {\r\n\t\t\tfor (let i = events.length - 1; i >= 0; i--) {\r\n\t\t\t\tlet event = events[i]\r\n\t\t\t\tif (event.handler === handler && (!scope || event.scope === scope)) {\r\n\t\t\t\t\tevents.splice(i, 1)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Check if registered listener for specified event.\r\n\t * @param name The event name.\r\n\t * @param handler The event handler. If provided, will also check if the handler match.\r\n\t * @param scope The scope binded to handler. If provided, will additionally check if the scope match.\r\n\t */\r\n\thasListener(name: string, handler?: EventHandler, scope?: object) {\r\n\t\tlet events = this._events[name]\r\n\r\n\t\tif (!handler) {\r\n\t\t\treturn !!events && events.length > 0\r\n\t\t}\r\n\t\telse if (events && handler) {\r\n\t\t\tfor (let i = 0, len = events.length; i < len; i++) {\r\n\t\t\t\tlet event = events[i]\r\n\r\n\t\t\t\tif (event.handler === handler && (!scope || event.scope === scope)) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\t/**\r\n\t * Emit specified event with followed arguments.\r\n\t * @param name The event name.\r\n\t * @param args The arguments that will be passed to event handlers.\r\n\t */\r\n\temit<K extends keyof Events & string>(name: K, ...args: Parameters<Events[K] & EventHandler>) {\r\n\t\tlet events = this._events[name]\r\n\t\tif (events) {\r\n\t\t\tfor (let i = 0; i < events.length; i++) {\r\n\t\t\t\tlet event = events[i]\r\n\r\n\t\t\t\t//the handler may call off, so must remove it before handling\r\n\t\t\t\tif (event.once === true) {\r\n\t\t\t\t\tevents.splice(i--, 1)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tevent.handler.apply(event.scope, args)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/** Remove all event slisteners */\r\n\tremoveAllListeners() {\r\n\t\tthis._events = {}\r\n\t}\r\n}\r\n",
    "import {Part, PartType} from \"./types\"\r\n\r\n\r\nexport class AttrPart implements Part {\r\n\r\n\ttype: PartType = PartType.Attr\r\n\twidth: number = 1\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate el: HTMLElement\r\n\tprivate name: string\r\n\r\n\tconstructor(el: HTMLElement, name: string, value: unknown) {\r\n\t\tthis.el = el\r\n\t\tthis.name = name\r\n\t\tthis.setValue(value)\r\n\t}\r\n\r\n\tprivate setValue(value: unknown) {\r\n\t\tvalue === null || value === undefined ? '' : String(value)\r\n\t\tthis.el.setAttribute(this.name, value as string)\r\n\t}\r\n\r\n\tupdate(values: unknown) {\r\n\t\tthis.setValue(values)\r\n\t}\r\n}",
    "import {Part, PartType} from \"./types\"\r\nimport {Bind, getBind} from '../binds'\r\nimport {Component} from '../component'\r\n\r\n\r\nexport class BindPart implements Part {\r\n\r\n\ttype: PartType = PartType.Bind\r\n\twidth: number = 1\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate bind: Bind\r\n\r\n\tconstructor(el: HTMLElement, name: string, value: unknown, context: Component) {\r\n\t\tlet dotIndex = name.indexOf('.')\r\n\t\tlet bindName = dotIndex > -1 ? name.slice(0, dotIndex) : name\r\n\t\tlet bindModifiers = dotIndex > -1 ? name.slice(dotIndex + 1).split('.') : null\r\n\r\n\t\tlet Cls = getBind(bindName)\r\n\t\tif (!Cls) {\r\n\t\t\tthrow new Error(`\"${bindName}\" is not a binded class`)\r\n\t\t}\r\n\r\n\t\tthis.bind = new Cls(el, value, bindModifiers, context)\r\n\t}\r\n\r\n\tupdate(value: unknown) {\r\n\t\tthis.bind.update(value)\r\n\t}\r\n}",
    "import {Component, getComponentAt, onComponentCreatedAt} from '../component'\r\nimport {Part, PartType} from \"./types\"\r\n\r\n\r\nexport class EventPart implements Part {\r\n\r\n\ttype: PartType = PartType.Event\r\n\twidth: number = 1\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate el: HTMLElement\r\n\tprivate name: string\r\n\tprivate handler!: Function\r\n\tprivate context: Component\r\n\tprivate isComEvent: boolean\r\n\r\n\tconstructor(el: HTMLElement, name: string, handler: Function, context: Component) {\r\n\t\tthis.el = el\r\n\t\tthis.name = name[0] === '@' ? name.slice(1) : name\r\n\t\tthis.context = context\r\n\t\tthis.isComEvent = el.localName.includes('-') && name[0] !== '@'\r\n\t\tthis.setHandler(handler)\r\n\t}\r\n\r\n\tprivate setHandler(newHandler: Function) {\r\n\t\tlet oldHandler = this.handler\r\n\r\n\t\tif (this.isComEvent) {\r\n\t\t\tlet com = getComponentAt(this.el)\r\n\t\t\tif (com) {\r\n\t\t\t\tif (oldHandler) {\r\n\t\t\t\t\tcom.off(this.name, oldHandler, this.context)\r\n\t\t\t\t}\r\n\t\t\t\tcom.on(this.name, newHandler, this.context)\r\n\t\t\t}\r\n\t\t\telse if (!oldHandler) {\r\n\t\t\t\tonComponentCreatedAt(this.el, this.setHandlerLater.bind(this))\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//TO DO\r\n\t\t\t// if (oldHandler) {\r\n\t\t\t// \tthis.el.removeEventListener(this.name, oldHandler as Function)\r\n\t\t\t// }\r\n\r\n\t\t\tthis.el.addEventListener(this.name, newHandler.bind(this.context))\r\n\t\t}\r\n\r\n\t\tthis.handler = newHandler\r\n\t}\r\n\r\n\tsetHandlerLater(com: Component) {\r\n\t\tcom.on(this.name, this.handler, com)\r\n\t}\r\n\r\n\tupdate(handler: Function) {\r\n\t\tthis.setHandler(handler)\r\n\t}\r\n}",
    "export {RootPart} from './root-child'",
    "import {Part, PartType} from \"./types\"\r\n\r\n\r\nexport class MayAttrPart implements Part {\r\n\r\n\ttype: PartType = PartType.MayAttr\r\n\twidth: number = 1\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate el: HTMLElement\r\n\tprivate name: string\r\n\r\n\tconstructor(el: HTMLElement, name: string, value: unknown) {\r\n\t\tthis.el = el\r\n\t\tthis.name = name\r\n\t\tthis.setValue(value)\r\n\t}\r\n\r\n\tprivate setValue(value: unknown) {\r\n\t\tif (value) {\r\n\t\t\tthis.el.setAttribute(this.name, '')\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.el.removeAttribute(this.name)\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(value: unknown) {\r\n\t\tthis.setValue(value)\r\n\t}\r\n}",
    "import {TemplateType} from '../template'\r\nimport {PartType} from \"./types\"\r\n\r\n\r\nexport interface ParseResult {\r\n\tfragment: DocumentFragment,\r\n\tnodesInPlaces: Node[] | null\r\n\tplaces: Place[] | null\r\n}\r\n\r\nexport interface Place {\r\n\treadonly type: PartType\r\n\treadonly name: string | null\r\n\treadonly strings: string[] | null\r\n\treadonly width: number\r\n\treadonly nodeIndex: number\r\n}\r\n\r\nexport interface SharedParseReulst {\r\n\treadonly template: HTMLTemplateElement\r\n\treadonly valuePlaces: Place[]\r\n}\r\n\r\n\r\nconst parseResultMap: Map<string, SharedParseReulst> = new Map()\r\n\r\nconst VALUE_MARKER = '${flit}'\r\n\r\nconst SELF_CLOSE_TAGS = {\r\n\tarea: true,\r\n\tbase: true,\r\n\tbr: true,\r\n\tcol: true,\r\n\tembed: true,\r\n\thr: true,\r\n\timg: true,\r\n\tinput: true,\r\n\tlink: true,\r\n\tmeta: true,\r\n\tparam: true,\r\n\tsource: true,\r\n\ttrack: true,\r\n\twbr: true\r\n}\r\n\r\n\r\nexport function parse(type: TemplateType, strings: TemplateStringsArray): ParseResult {\r\n\tif (type === 'html' || type === 'svg') {\r\n\t\tlet string = strings.join(VALUE_MARKER)\r\n\t\tlet sharedResult = parseResultMap.get(string)\r\n\t\tif (!sharedResult) {\r\n\t\t\tsharedResult = new ElementParser(type, string).parse()\r\n\t\t\tparseResultMap.set(string, sharedResult)\r\n\t\t}\r\n\r\n\t\treturn generateParseResult(sharedResult)\r\n\t}\r\n\telse {\r\n\t\treturn {\r\n\t\t\tfragment: createTemplate(strings[0].trim()).content,\r\n\t\t\tnodesInPlaces: null,\r\n\t\t\tplaces: null\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction createTemplate(html: string) {\r\n\tlet template = document.createElement('template')\r\n\ttemplate.innerHTML = html\r\n\treturn template\r\n}\r\n\r\n\r\n\r\nclass ElementParser {\r\n\r\n\tprivate type: TemplateType\r\n\tprivate string: string\r\n\tprivate nodeIndex = 0\r\n\tprivate places: Place[] = []\r\n\tprivate placeNodeIndexs: number[] = []\r\n\t\r\n\r\n\tconstructor(type: TemplateType, string: string) {\r\n\t\tthis.type = type\r\n\t\tthis.string = string\r\n\t}\r\n\r\n\tparse(): SharedParseReulst {\r\n\t\tconst tagRE = /<!--[\\s\\S]*?-->|<(\\w+)([\\s\\S]*?)\\/?>|<\\/\\w+>/g\r\n\r\n\t\tlet codes = ''\r\n\t\tlet lastIndex = 0\r\n\t\tlet isFirstTag = false\r\n\t\tlet svgWrapped = false\r\n\r\n\t\tlet match: RegExpExecArray | null\r\n\t\twhile (match = tagRE.exec(this.string)) {\r\n\t\t\tlet code = match[0]\r\n\t\t\tcodes += this.parseText(this.string.slice(lastIndex, tagRE.lastIndex - code.length))\r\n\t\t\tlastIndex = tagRE.lastIndex\r\n\t\t\t\r\n\t\t\t//ignore comment nodes\r\n\t\t\tif (code[1] === '!') {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\r\n\t\t\tif (code[1] === '/') {\r\n\t\t\t\tcodes += code\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet tag = match[1]\r\n\t\t\t\tlet attr = match[2]\r\n\r\n\t\t\t\tif (!isFirstTag) {\r\n\t\t\t\t\tif (this.type === 'svg' && tag !== 'svg') {\r\n\t\t\t\t\t\tcodes = '<svg>' + codes\r\n\t\t\t\t\t\tsvgWrapped = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisFirstTag = true\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (attr.length > 5) {\r\n\t\t\t\t\tattr = this.parseAttribute(attr)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcodes += '<' + tag + attr + '>'\r\n\r\n\t\t\t\t//`<div/>` -> `<div></div>`\r\n\t\t\t\tif (code[code.length - 2] === '/' && !SELF_CLOSE_TAGS.hasOwnProperty(tag)) {\r\n\t\t\t\t\tcodes += '</' + tag + '>'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.nodeIndex++\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcodes += this.parseText(this.string.slice(lastIndex))\r\n\r\n\t\tif (svgWrapped) {\r\n\t\t\tcodes += '</svg>'\r\n\t\t}\r\n\r\n\t\tlet template = createTemplate(codes)\r\n\t\tif (svgWrapped) {\r\n\t\t\tlet svg = template.content.firstElementChild!\r\n\t\t\ttemplate.content.append(...svg.childNodes)\r\n\t\t\tsvg.remove()\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttemplate,\r\n\t\t\tvaluePlaces: this.places\r\n\t\t}\r\n\t}\r\n\r\n\tparseText(text: string): string {\r\n\t\ttext = text.trim()\r\n\t\tif (!text) {\r\n\t\t\treturn text\r\n\t\t}\r\n\r\n\t\tif (text.includes(VALUE_MARKER)) {\r\n\t\t\tlet splitted = text.split(VALUE_MARKER)\r\n\t\t\ttext = splitted.join('<!--->')\r\n\r\n\t\t\tfor (let i = 1; i < splitted.length; i++) {\r\n\t\t\t\tthis.places.push({\r\n\t\t\t\t\ttype: PartType.Child,\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tstrings: null,\r\n\t\t\t\t\twidth: 1,\r\n\t\t\t\t\tnodeIndex: this.nodeIndex\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.placeNodeIndexs.push(this.nodeIndex)\r\n\t\t\t\tthis.nodeIndex += 1\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn text\r\n\t}\r\n\r\n\tparseAttribute(attr: string): string {\r\n\t\tconst attrRE = /(\\S+)\\s*=\\s*(\".*?\"|'.*?'|\\$\\{flit\\})\\s*/g\r\n\r\n\t\treturn attr.replace(attrRE, (m0, name: string, value: string) => {\r\n\t\t\tlet type: PartType | undefined = undefined\r\n\t\t\tlet hasMarker = value.includes(VALUE_MARKER)\r\n\r\n\t\t\tswitch (name[0]) {\r\n\t\t\t\tcase '.':\r\n\t\t\t\t\ttype = PartType.Property\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\tcase ':':\r\n\t\t\t\t\ttype = PartType.Bind\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\tcase '?':\r\n\t\t\t\t\ttype = PartType.MayAttr\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\tcase '@':\r\n\t\t\t\t\ttype = PartType.Event\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tif (type !== undefined) {\r\n\t\t\t\tname = name.slice(1)\r\n\t\t\t}\r\n\r\n\t\t\tif (type === undefined && hasMarker) {\r\n\t\t\t\ttype = PartType.Attr\r\n\t\t\t}\r\n\r\n\t\t\tif (type !== undefined) {\r\n\t\t\t\tif (value[0] === '\\'' || value[0] === '\"') {\r\n\t\t\t\t\tvalue = value.slice(1, -1)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet strings = value === VALUE_MARKER || type === PartType.MayAttr || type === PartType.Event ? null\r\n\t\t\t\t\t: hasMarker ? value.split(VALUE_MARKER)\r\n\t\t\t\t\t: [value]\r\n \r\n\t\t\t\tthis.places.push({\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tstrings,\r\n\t\t\t\t\twidth: strings ? strings.length - 1 : 1,\r\n\t\t\t\t\tnodeIndex: this.nodeIndex\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.placeNodeIndexs.push(this.nodeIndex)\r\n\r\n\t\t\t\tif (type === PartType.Attr) {\r\n\t\t\t\t\treturn name + '=\"\" '\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn m0\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\n//TreeWalker Benchmark: https://jsperf.com/treewalker-vs-nodeiterator\r\nfunction generateParseResult(sharedResult: SharedParseReulst): ParseResult {\r\n\tlet {template, valuePlaces} = sharedResult\r\n\tlet fragment = document.importNode(template.content, true) as DocumentFragment\r\n\tlet nodeIndex = 0\t//ignore root fragment\r\n\tlet nodesInPlaces: Node[] = []\r\n\r\n\tif (valuePlaces.length > 0) {\r\n\t\tlet valueIndex = 0\r\n\t\tlet walker = document.createTreeWalker(fragment, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT, null)\r\n\t\tlet node: Node | null\r\n\t\tlet end = false\r\n\r\n\t\twhile (node = walker.nextNode()) {\r\n\t\t\twhile (valuePlaces[valueIndex].nodeIndex === nodeIndex) {\r\n\t\t\t\tnodesInPlaces.push(node)\r\n\t\t\t\tvalueIndex++\r\n\r\n\t\t\t\tif (valueIndex === valuePlaces.length) {\r\n\t\t\t\t\tend = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (end) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tnodeIndex++\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tfragment,\r\n\t\tnodesInPlaces,\r\n\t\tplaces: valuePlaces\r\n\t}\r\n}",
    "import {Part, PartType} from \"./types\"\r\n\r\n\r\nexport class PropertyPart implements Part {\r\n\r\n\ttype: PartType = PartType.Property\r\n\twidth: number = 1\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate el: HTMLElement\r\n\tprivate name: string\r\n\r\n\tconstructor(el: HTMLElement, name: string, value: unknown) {\r\n\t\tthis.el = el\r\n\t\tthis.name = name\r\n\t\tthis.setValue(value)\r\n\t}\r\n\r\n\tprivate setValue(value: unknown) {\r\n\t\t(this.el as any)[this.name] = value\r\n\t}\r\n\r\n\tupdate(values: unknown) {\r\n\t\tthis.setValue(values)\r\n\t}\r\n}",
    "import {Template, text, join} from '../template'\r\nimport {Component} from '../component'\r\nimport {parse} from './part-parser'\r\nimport {MayAttrPart} from './may-attr'\r\nimport {EventPart} from './event'\r\nimport {AttrPart} from './attr'\r\nimport {BindPart} from './bind'\r\nimport {PropertyPart} from './property'\r\nimport {Part, PartType} from './types'\r\n\r\n\r\nabstract class RootChildShared {\r\n\r\n\tprotected value: unknown\r\n\tprotected context: Component\r\n\tprotected parts: (Part | null)[] = []\r\n\r\n\tconstructor(context: Component) {\r\n\t\tthis.context = context\r\n\t}\r\n\t\r\n\tupdate(newValue: unknown) {\r\n\t\tlet oldValue = this.value\r\n\r\n\t\tif ((newValue instanceof Template)) {\r\n\t\t\tif (oldValue instanceof Template) {\r\n\t\t\t\tthis.compareTemplate(oldValue, newValue)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.parseTemplate(newValue)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (oldValue instanceof Template) {\r\n\t\t\t\tthis.cleanTemplate()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.renderText(newValue === null || newValue === undefined ? '' : String(newValue).trim())\r\n\t\t}\r\n\r\n\t\tthis.value = newValue\r\n\t}\r\n\r\n\tprivate compareTemplate(oldTemplate: Template, newTemplate: Template) {\r\n\t\tif (!newTemplate.compareType(oldTemplate) || !newTemplate.compareStrings(oldTemplate)) {\r\n\t\t\tthis.cleanTemplate()\r\n\t\t\tthis.parseTemplate(newTemplate)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.mergeTemplate(oldTemplate, newTemplate)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate mergeTemplate(oldTemplate: Template, newTemplate: Template) {\r\n\t\tlet diffs = newTemplate.compareValues(oldTemplate)\r\n\t\tif (diffs) {\r\n\t\t\tfor (let i = 0; i < diffs.length;) {\r\n\t\t\t\tlet index = diffs[i]\r\n\t\t\t\tlet part = this.parts[index]\r\n\t\t\t\tlet partIndex = index\r\n\r\n\t\t\t\twhile (!part && partIndex < this.parts.length) {\r\n\t\t\t\t\tpartIndex++\r\n\t\t\t\t\tpart = this.parts[partIndex]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet values = newTemplate.values.slice(partIndex - part!.width + 1, partIndex + 1)\r\n\t\t\t\tthis.mergePart(part!, values)\r\n\r\n\t\t\t\tif (part!.width > 1) {\r\n\t\t\t\t\twhile (i < diffs.length - 1 && diffs[i + 1] <= partIndex) {\r\n\t\t\t\t\t\ti++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ti++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected parseTemplate(template: Template) {\r\n\t\tlet {fragment, nodesInPlaces, places} = parse(template.type, template.strings)\r\n\t\tlet values = template.values\r\n\t\tlet valueIndex = 0\r\n\r\n\t\tif (nodesInPlaces && places) {\r\n\t\t\tfor (let i = 0; i < nodesInPlaces.length; i++) {\r\n\t\t\t\tlet node = nodesInPlaces[i]\r\n\t\t\t\tlet place = places[i]\r\n\t\t\t\tlet part: Part\r\n\r\n\t\t\t\tswitch (place.type) {\r\n\t\t\t\t\tcase PartType.Child:\r\n\t\t\t\t\t\tlet result = values[valueIndex]\r\n\t\t\t\t\t\tif (!(result instanceof Template)) {\r\n\t\t\t\t\t\t\tresult = text([String(result)] as any as TemplateStringsArray, [])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpart = new ChildPart(node as Comment, result as Template, this.context)\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase PartType.MayAttr:\r\n\t\t\t\t\t\tpart = new MayAttrPart(node as HTMLElement, place.name!, values[valueIndex])\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase PartType.Event:\r\n\t\t\t\t\t\tpart = new EventPart(node as HTMLElement, place.name!, values[valueIndex] as Function, this.context)\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase PartType.Attr:\r\n\t\t\t\t\t\tpart = new AttrPart(node as HTMLElement, place.name!, join(place.strings, values.slice(valueIndex, valueIndex + place.width)))\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase PartType.Bind:\r\n\t\t\t\t\t\tpart = new BindPart(node as HTMLElement, place.name!, join(place.strings, values.slice(valueIndex, valueIndex + place.width)), this.context)\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase PartType.Property:\r\n\t\t\t\t\t\tpart = new PropertyPart(node as HTMLElement, place.name!, join(place.strings, values.slice(valueIndex, valueIndex + place.width)))\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvalueIndex += place.width\r\n\r\n\t\t\t\tpart!.strings = place.strings\r\n\r\n\t\t\t\t//we add null as placeholders to align with values\r\n\t\t\t\tif (place.width > 1) {\r\n\t\t\t\t\tpart!.width = place.width\r\n\t\t\t\t\tfor (let i = 1; i < place.width; i++) {\r\n\t\t\t\t\t\tthis.parts.push(null)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//like `:ref=\"name\"`\r\n\t\t\t\tif (place.width > 0) {\r\n\t\t\t\t\tthis.parts.push(part!)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.renderFragment(fragment)\r\n\t}\r\n\r\n\tprotected abstract renderText(text: string): void\r\n\tprotected abstract renderFragment(fragment: DocumentFragment): void\r\n\t\r\n\tprivate mergePart(part: Part, values: unknown[]) {\r\n\t\tswitch (part.type) {\r\n\t\t\tcase PartType.Child:\r\n\t\t\tcase PartType.MayAttr:\r\n\t\t\tcase PartType.Event:\r\n\t\t\t\tpart.update(values[0])\r\n\t\t\t\tbreak\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tpart.update(join(part.strings, values))\r\n\t\t}\r\n\t}\r\n\r\n\tprivate cleanTemplate() {\r\n\t\tthis.parts = []\r\n\t}\r\n}\r\n\r\n\r\nexport class RootPart extends RootChildShared implements Part {\r\n\r\n\twidth = 1\r\n\ttype = PartType.Root\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate el: HTMLElement\r\n\r\n\tconstructor(el: HTMLElement, value: unknown, context: Component) {\r\n\t\tsuper(context)\r\n\t\tthis.el = el\r\n\t\tthis.update(value)\r\n\t}\r\n\r\n\tprotected renderText(text: string) {\r\n\t\tthis.el.textContent = text\r\n\t}\r\n\r\n\tprotected renderFragment(fragment: DocumentFragment) {\r\n\t\twhile (this.el.firstChild) {\r\n\t\t\tthis.el.firstChild.remove()\r\n\t\t}\r\n\r\n\t\tthis.el.append(fragment)\r\n\t}\r\n}\r\n\r\n\r\nexport class ChildPart extends RootChildShared implements Part {\r\n\r\n\ttype: PartType = PartType.Child\r\n\twidth: number = 1\r\n\tstrings: string[] | null = null\r\n\r\n\tprivate comment: Comment\r\n\tprivate parentNode: Node\r\n\tprivate els: Node[] | null = null\r\n\r\n\tconstructor(comment: Comment, value: unknown, context: Component) {\r\n\t\tsuper(context)\r\n\t\tthis.comment = comment\r\n\t\tthis.parentNode = comment.parentNode!\r\n\t\tthis.update(value)\r\n\t}\r\n\r\n\tprotected renderText(text: string) {\r\n\t\tif (this.els && this.els.length === 1 && this.els[0].nodeType === 3) {\r\n\t\t\tthis.els[0].textContent = text\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet fragment = document.createDocumentFragment()\r\n\t\t\tfragment.textContent = text\r\n\t\t\tthis.renderFragment(fragment)\r\n\t\t}\r\n\t}\r\n\r\n\tprotected renderFragment(fragment: DocumentFragment) {\r\n\t\tlet els = [...fragment.childNodes]\r\n\r\n\t\tif (els.length) {\r\n\t\t\tif (this.els) {\r\n\t\t\t\tthis.parentNode.insertBefore(fragment, this.els[0])\r\n\t\t\t\tthis.els.forEach(el => (el as ChildNode).remove())\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.comment.replaceWith(fragment)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.restoreComment()\r\n\t\t}\r\n\r\n\t\tthis.els = els.length ? els : null\r\n\t}\r\n\r\n\tprivate restoreComment() {\r\n\t\tif (this.els) {\r\n\t\t\tthis.parentNode.insertBefore(this.comment, this.els[0])\r\n\t\t\tthis.els.forEach(el => (el as ChildNode).remove())\r\n\t\t}\r\n\t}\r\n}",
    "export enum PartType {\r\n\tRoot,\r\n\tChild,\r\n\tAttr,\r\n\tMayAttr,\r\n\tProperty,\r\n\tBind,\r\n\tEvent\r\n}\r\n\r\nexport interface Part {\r\n\ttype: PartType\r\n\twidth: number\r\n\tstrings: string[] | null\r\n\tupdate(value: unknown): void\r\n}\r\n",
    "import {getComponentConstructor} from './component'\r\n\r\n\r\n/**\r\n * Render html codes to elements. Returns the element.\r\n * @param htmlCodes The html code piece for one element.\r\n * @param target If specified, the element will be appended to it after created.\r\n */\r\nexport function render(htmlCodes: string, target?: HTMLElement): DocumentFragment\r\n\r\n/**\r\n * Render html codes to an element. Can specify options if it's an component. Returns the element.\r\n * @param htmlCodes The html code piece for one element.\r\n * @param options If you need to create comonent, it's the options to instantiate component\r\n * @param target If specified, the element will be appended to it after created.\r\n */\r\nexport function render(htmlCodes: string, options: object, target?: HTMLElement): DocumentFragment\r\n\r\nexport function render(htmlCodes: string, options?: null | object | HTMLElement, target?: HTMLElement): DocumentFragment {\r\n\tlet template = document.createElement('template')\r\n\ttemplate.innerHTML = clearWhiteSpaces(htmlCodes)\r\n\r\n\tif (options instanceof HTMLElement) {\r\n\t\ttarget = options\r\n\t\toptions = null\r\n\t}\r\n\r\n\tif (options) {\r\n\t\tlet fragment = template.content\r\n\t\tif (fragment.children.length > 1) {\r\n\t\t\tthrow new Error('Only one element is allowed when \"render\" an component')\r\n\t\t}\r\n\r\n\t\tif (!fragment.firstElementChild) {\r\n\t\t\tthrow new Error('One element is required when \"render\" an component')\r\n\t\t}\r\n\r\n\t\tlet tagName = fragment.firstElementChild.localName\r\n\t\tlet Com = getComponentConstructor(tagName)\r\n\t\t\r\n\t\tif (!Com) {\r\n\t\t\tthrow new Error(`\"${tagName}\" is not defined as an component`)\r\n\t\t}\r\n\r\n\t\tnew Com(fragment.firstElementChild as HTMLElement, options)\r\n\t}\r\n\r\n\tif (target) {\r\n\t\ttarget.append(template.content)\r\n\t}\r\n\r\n\treturn template.content\r\n}\r\n\r\n\r\nfunction clearWhiteSpaces(htmlCodes: string): string {\r\n\treturn htmlCodes.trimLeft().replace(/>[ \\t\\r\\n]+/g, '>')\r\n}\r\n",
    "export type TemplateType = 'html' | 'svg' | 'css' | 'text'\r\n\r\n\r\n\r\nexport function html(strings: TemplateStringsArray, ...values: unknown[]): Template {\r\n\treturn new Template('html', strings, values)\r\n}\r\n\r\nexport function svg(strings: TemplateStringsArray, ...values: unknown[]): Template {\r\n\treturn new Template('svg', strings, values)\r\n}\r\n\r\nexport function css(strings: TemplateStringsArray, ...values: unknown[]): Template {\r\n\treturn new Template('css', strings, values)\r\n}\r\n\r\nexport function text(strings: TemplateStringsArray, ...values: unknown[]): Template {\r\n\treturn new Template('text', strings, values)\r\n}\r\n\r\n\r\nexport function join(strings: TemplateStringsArray | string[] | null, values: unknown[]): unknown {\r\n\tif (!strings) {\r\n\t\treturn values[0]\r\n\t}\r\n\r\n\tlet text = strings[0]\r\n\r\n\tfor (let i = 0; i < strings.length - 1; i++) {\r\n\t\tlet value = values[i]\r\n\t\ttext += value === null || value === undefined ? '' : String(value)\r\n\t\ttext += strings[i + 1]\r\n\t}\r\n\r\n\treturn text\r\n}\r\n\r\n\r\n\r\nexport class Template {\r\n\r\n\ttype: TemplateType\r\n\tstrings: TemplateStringsArray\r\n\tvalues: unknown[]\r\n\r\n\tconstructor(type: TemplateType, strings: TemplateStringsArray, values: unknown[]) {\r\n\t\tthis.type = type\r\n\t\tthis.strings = strings\r\n\t\tthis.values = values\r\n\t}\r\n\r\n\tcompareType(t: Template): boolean {\r\n\t\treturn this.type === t.type\r\n\t}\r\n\r\n\tcompareStrings(t: Template): boolean {\r\n\t\tif (this.strings.length !== t.strings.length) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.strings.length; i++) {\r\n\t\t\tif (this.strings[i] !== t.strings[i]) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true\r\n\t}\r\n\r\n\tcompareValues(t: Template): number[] | null {\r\n\t\tlet diff: number[] = []\r\n\r\n\t\tfor (let i = 0; i < this.values.length; i++) {\r\n\t\t\tif (this.values[i] !== t.values[i]) {\r\n\t\t\t\tdiff.push(i)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn diff.length > 0 ? diff : null\r\n\t}\r\n}\r\n"
  ]
}